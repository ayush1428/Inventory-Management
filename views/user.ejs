<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Admin Dashboard</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css"
      integrity="sha384-pzj+fmwVgUaLjm0FR3fnhA/4MnEeQWmJrE82x1uAEGw0xHH8KjOJuoNs67jaEo2E"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <!-- Montserrat Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- Material Icons -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/user.css" />
  </head>
  <style>
    .abc {
      background-color: #9e9ea4;
    }
    .notification {
      background-color: #ffc107;
      padding: 10px;
      text-align: center;
    }
  </style>
  <body>
    <div class="grid-container">
      <!-- Header -->
      <header class="header">
        <div class="menu-icon">
          <span class="material-icons-outlined">menu</span>
        </div>
        <div class="header-left">
          <span class="material-icons-outlined">search</span>
        </div>
        <div class="header-right">
          <span class="material-icons-outlined">notifications</span>
          <span class="material-icons-outlined"></span>
          <span class="material-icons-outlined">account_circle</span>
        </div>
      </header>
      <!-- End Header -->

      <!-- Sidebar -->
      <aside id="sidebar">
        <div class="sidebar-title">
          <div class="sidebar-brand">
            <span class="material-icons-outlined"></span> USER
          </div>
          <span class="material-icons-outlined">close</span>
        </div>

        <ul class="sidebar-list">
          <li class="sidebar-list-item">
            <button class="button" onclick="redirectToUserRecords()">
              <span class="material-icons-outlined">groups</span> Personal
              records
            </button>
          </li>

          <li class="sidebar-list-item">
            <button class="button">
              <span class="material-icons-outlined">settings</span> Settings
            </button>
          </li>

          <li class="sidebar-list-item">
            <button class="button" onclick="redirectToHomePage()">
              <span class="material-icons-outlined">groups</span> Home Page
            </button>
          </li>
        </ul>
      </aside>
      <!-- End Sidebar -->

      <!-- Main -->
      <main class="main-container">
        <div class="main-title">
          <h2>Available equipments</h2>
        </div>

        <!-- <div class="notification" id="notificationContainer"></div> -->
        <!-- <% for (const equipmentNotification of equipmentNotifications) { %> <%
        if (equipmentNotification.daysDiff <= 2) { %>
        <div class="notification-container">
          <div class="notification">
            You have <%= equipmentNotification.daysDiff %> days left to return
            <%= equipmentNotification.equipmentName %>.
          </div>
        </div>
        <% } %> <% } %> -->

        <% for (const equipmentNotification of equipmentNotifications) { %> <%
        if (equipmentNotification.daysDiff <= 2) { %>
        <div class="notification-container">
          <div
            class="alert alert-warning alert-dismissible fade show"
            role="alert"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="currentColor"
              class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2"
              viewBox="0 0 16 16"
              role="img"
              aria-label="Warning:"
            >
              <path
                d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"
              />
            </svg>
            <strong style="margin-left: 5px">Attention:</strong> You have <%=
            equipmentNotification.daysDiff %> days left to return <%=
            equipmentNotification.equipmentName %>.
          </div>
        </div>

        <% } %> <% } %>

        <table class="table table-striped" style="margin-top: 25px">
          <thead>
            <tr>
              <!-- <th scope="col">SR No</th> -->
              <th scope="col">Equipment name</th>
              <th scope="col">Available quantity</th>
            </tr>
          </thead>
          <tbody>
            <% equipments.forEach((equipment) => { %>
            <tr>
              <td><%= equipment.name %></td>
              <td><%= equipment.quantity %></td>
            </tr>
            <% }); %>
          </tbody>
        </table>

        <!-- <div class="main-container">
          <main class="mt-5 pt-3">
            <div class="container-fluid">
              <div class="row">
                <div class="col-md-12"></div>
              </div>

              <div class="row">
                <div class="col-md-19 mb-5">
                  <div class="card">
                    <div class="card">
                      <span><i class="bi bi-table me-2"></i></span> Available
                      Equipments
                    </div>
                    <div class="card-body">
                      <div class="table-responsive">
                        <table
                          id="example"
                          class="table table-striped data-table"
                          style="width: 100%"
                        >
                          <thead>
                            <tr>
                              <th style="text-align: left">Equipment name</th>
                              <th style="text-align: left">
                                Available quantity
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <% equipments.forEach((equipment) => { %>
                            <tr>
                              <td><%= equipment.name %></td>
                              <td><%= equipment.quantity %></td>
                            </tr>
                            <% }); %>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </main>
        </div> -->
      </main>
      <!-- End Main -->
    </div>

    <!-- Scripts -->
    <!-- ApexCharts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.35.5/apexcharts.min.js"></script>
    <!-- Custom JS -->
    <script src="./script.js"></script>
    <script>
      function redirectToUserRecords() {
        window.location.href = "/user/user-records";
      }

      function redirectToHomePage() {
        window.location.href = "/user";
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-WsiZfFkObUjhxNzFd6aCcszLRkpqU+1EiSQX9SGIk0d2koUvYB5QlP62eVP6uO5r"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
